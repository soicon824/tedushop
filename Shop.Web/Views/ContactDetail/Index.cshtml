@model Shop.Web.Models.ContactDetailViewModel

@{
    ViewBag.Title = "Lien he";
    Layout = "~/Views/Shared/Layouts.cshtml";
}
<div class="women-product">
    <input type="hidden" id="hidContactDetail" value="@Model.Address" />
    <input type="hidden" id="hidlat" value="@Model.Lat" />
    <input type="hidden" id="hidlong" value="@Model.Lng" />
    <div class="w_content">
        <h3>Map</h3>
        <address class="address">
            <p>@Model.Address</p>
            <dl>
                <dt> </dt>
                <dd>Freephone:<span>@Model.Phone</span></dd>
                <dd>E-mail:&nbsp; <a href="mailto:@(Model.Email)">@Model.Email</a></dd>
            </dl>
        </address>
        <div class="clearfix">
        </div>
        <div id="map" style="width:100%; height:500px"></div>

    </div>
</div>

<script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAk3Eeu6MXm1Y6qil2hO6j89kckY5nnSTo&callback=initMap">
</script>
<script type="text/javascript">
    // This example displays a marker at the center of Australia.
    // When the user clicks the marker, an info window opens.

    function initMap() {
        var uluru = {
            lat: parseFloat(@Model.Lat),
            lng: parseFloat(@Model.Lng)
        };
        var map = new google.maps.Map(document.getElementById('map'), {
            zoom: 10,
            center: uluru
        });

        var contentString = '<div id="content">' +
            '<div id="siteNotice">' +
            '</div>' +
            '<h1 id="firstHeading" class="firstHeading">House</h1>' +
            '<div id="bodyContent">' +
            '<p><b>Uluru</b>, ' + $('#hidContactDetail').val() + '</p>' +
            '</div>' +
            '</div>';

        var infowindow = new google.maps.InfoWindow({
            content: contentString
        });

        var marker = new google.maps.Marker({
            position: uluru,
            map: map,
            title: 'Uluru (Ayers Rock)'
        });
        marker.addListener('click', function () {
            infowindow.open(map, marker);
        });
    }
</script>

